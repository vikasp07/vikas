<% layout("/layouts/boilerplate") %>

<!-- Hero Section with Slideshow -->
<div class="hero-section">
  <div class="slideshow-container">
    <div class="mySlides fade">
      <div class="numbertext">1 / 3</div>
      <img src="/Images/panel/panel4.webp" alt="Panel 1" class="slideshow-image" />
    </div>
    <div class="mySlides fade">
      <div class="numbertext">2 / 3</div>
      <img src="/Images/panel/panel5.webp" alt="Panel 2" class="slideshow-image" />
    </div>
    <div class="mySlides fade">
      <div class="numbertext">3 / 3</div>
      <img src="/Images/panel/panel6.jpg" alt="Panel 3" class="slideshow-image" />
    </div>
  </div>

  <div class="dots-container">
    <span class="dot"></span>
    <span class="dot"></span>
    <span class="dot"></span>
  </div>
</div>

<!-- Special Offers Banner -->
<section class="special-offers">
  <div class="offer-banner">
    <h2>Special Discounts!</h2>
    <p>Get up to 50% off on selected items! Don't miss out on amazing deals!</p>
    <a href="/special-offers" class="offer-link">Shop Now</a>
  </div>
</section>

<!-- Featured Products Section -->
<section class="featured-products">
  <h2>Featured Products</h2>
  <div class="product-cards">
    <% for(group of allGroup) { %>
      <div class="product-card">
        <div class="product-card-content">
          <img src="/Images/groups/<%= group.name.toLowerCase().replace(/\s/g, "_") %>.webp" alt="<%= group.name %>" class="product-image" />
          <h3><%= group.name %></h3>
          <a href="/vks/<%= group.name.toLowerCase().replace(/\s/g, "_") %>" class="see-more-link">SEE MORE</a>
        </div>
      </div>
    <% } %>
  </div>
</section>

<!-- Call-to-Action Banner -->
<section class="cta-banner">
  <div class="cta-content">
    <h2>Exclusive Offer: 30% off your first order!</h2>
    <a href="/signup" class="cta-button">Sign Up Now</a>
  </div>
</section>

<!-- Cart Sidebar -->
<aside class="cart-sidebar" id="cart-sidebar">
  <h2>Your Cart</h2>
  <button class="close-btn" id="close-cart">&times;</button>
  <div id="cart-items-container">
    <!-- Cart items will be loaded here dynamically -->
  </div>
  <button class="checkout-btn" id="checkout-btn">Checkout</button>
</aside>

<script>
  // Search Functionality
  const div = document.getElementById("search-select");
  div.addEventListener("change", function () {
    var selectedFile = this.value;
    if (selectedFile) {
      window.location.href = selectedFile;
    }
  });

  // Change Image on Selection
  function changeImage(value) {
    var imageSrc = "box" + value + ".jpg";
    document.getElementById("displayedImage").src = imageSrc;
  }

  // Sidebar Toggle
  const navopen = document.querySelector("button.openbtn");
  const navclose = document.querySelector("a.closebtn");
  navopen.addEventListener("click", () => {
    document.getElementById("mySidebar").style.width = "250px";
    document.querySelector("body").style.marginLeft = "250px";
  });
  navclose.addEventListener("click", () => {
    document.getElementById("mySidebar").style.width = "0";
    document.querySelector("body").style.marginLeft = "0";
  });

  // Slideshow Functionality
  let slideIndex = 0;
  showSlides();
  function showSlides() {
    let i;
    let slides = document.getElementsByClassName("mySlides");
    let dots = document.getElementsByClassName("dot");
    for (i = 0; i < slides.length; i++) {
      slides[i].style.display = "none";
    }
    slideIndex++;
    if (slideIndex > slides.length) {
      slideIndex = 1;
    }
    for (i = 0; i < dots.length; i++) {
      dots[i].className = dots[i].className.replace(" active", "");
    }
    slides[slideIndex - 1].style.display = "block";
    dots[slideIndex - 1].className += " active";
    setTimeout(showSlides, 2000); // Change image every 2 seconds
  }
</script>
